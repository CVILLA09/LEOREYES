import{L as k,F as T,C as E,G,B,a as M,b as C,M as P,P as V,c as H,d as U,e as A,f as I,V as j,g as W,h as J,i as q,R as Y,S as K,j as Q}from"./BackgroundManager-DPJ9MVnW.js";const X=/^[og]\s*(.+)?/,Z=/^mtllib /,$=/^usemtl /,ee=/^usemap /,O=/\s+/,R=new j,D=new j,S=new j,N=new j,y=new j,z=new E;function te(){const L={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(s,e){if(this.object&&this.object.fromDeclaration===!1){this.object.name=s,this.object.fromDeclaration=e!==!1;return}const n=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:s||"",fromDeclaration:e!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,o){const r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);const c={index:this.materials.length,name:t||"",mtllib:Array.isArray(o)&&o.length>0?o[o.length-1]:"",smooth:r!==void 0?r.smooth:this.smooth,groupStart:r!==void 0?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(g){const a={index:typeof g=="number"?g:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return a.clone=this.clone.bind(a),a}};return this.materials.push(c),c},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){const o=this.currentMaterial();if(o&&o.groupEnd===-1&&(o.groupEnd=this.geometry.vertices.length/3,o.groupCount=o.groupEnd-o.groupStart,o.inherited=!1),t&&this.materials.length>1)for(let r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return t&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),o}},n&&n.name&&typeof n.clone=="function"){const t=n.clone(0);t.inherited=!0,this.object.materials.push(t)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(s,e){const n=parseInt(s,10);return(n>=0?n-1:n+e/3)*3},parseNormalIndex:function(s,e){const n=parseInt(s,10);return(n>=0?n-1:n+e/3)*3},parseUVIndex:function(s,e){const n=parseInt(s,10);return(n>=0?n-1:n+e/2)*2},addVertex:function(s,e,n){const t=this.vertices,o=this.object.geometry.vertices;o.push(t[s+0],t[s+1],t[s+2]),o.push(t[e+0],t[e+1],t[e+2]),o.push(t[n+0],t[n+1],t[n+2])},addVertexPoint:function(s){const e=this.vertices;this.object.geometry.vertices.push(e[s+0],e[s+1],e[s+2])},addVertexLine:function(s){const e=this.vertices;this.object.geometry.vertices.push(e[s+0],e[s+1],e[s+2])},addNormal:function(s,e,n){const t=this.normals,o=this.object.geometry.normals;o.push(t[s+0],t[s+1],t[s+2]),o.push(t[e+0],t[e+1],t[e+2]),o.push(t[n+0],t[n+1],t[n+2])},addFaceNormal:function(s,e,n){const t=this.vertices,o=this.object.geometry.normals;R.fromArray(t,s),D.fromArray(t,e),S.fromArray(t,n),y.subVectors(S,D),N.subVectors(R,D),y.cross(N),y.normalize(),o.push(y.x,y.y,y.z),o.push(y.x,y.y,y.z),o.push(y.x,y.y,y.z)},addColor:function(s,e,n){const t=this.colors,o=this.object.geometry.colors;t[s]!==void 0&&o.push(t[s+0],t[s+1],t[s+2]),t[e]!==void 0&&o.push(t[e+0],t[e+1],t[e+2]),t[n]!==void 0&&o.push(t[n+0],t[n+1],t[n+2])},addUV:function(s,e,n){const t=this.uvs,o=this.object.geometry.uvs;o.push(t[s+0],t[s+1]),o.push(t[e+0],t[e+1]),o.push(t[n+0],t[n+1])},addDefaultUV:function(){const s=this.object.geometry.uvs;s.push(0,0),s.push(0,0),s.push(0,0)},addUVLine:function(s){const e=this.uvs;this.object.geometry.uvs.push(e[s+0],e[s+1])},addFace:function(s,e,n,t,o,r,c,g,a){const d=this.vertices.length;let i=this.parseVertexIndex(s,d),l=this.parseVertexIndex(e,d),u=this.parseVertexIndex(n,d);if(this.addVertex(i,l,u),this.addColor(i,l,u),c!==void 0&&c!==""){const m=this.normals.length;i=this.parseNormalIndex(c,m),l=this.parseNormalIndex(g,m),u=this.parseNormalIndex(a,m),this.addNormal(i,l,u)}else this.addFaceNormal(i,l,u);if(t!==void 0&&t!==""){const m=this.uvs.length;i=this.parseUVIndex(t,m),l=this.parseUVIndex(o,m),u=this.parseUVIndex(r,m),this.addUV(i,l,u),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(s){this.object.geometry.type="Points";const e=this.vertices.length;for(let n=0,t=s.length;n<t;n++){const o=this.parseVertexIndex(s[n],e);this.addVertexPoint(o),this.addColor(o)}},addLineGeometry:function(s,e){this.object.geometry.type="Line";const n=this.vertices.length,t=this.uvs.length;for(let o=0,r=s.length;o<r;o++)this.addVertexLine(this.parseVertexIndex(s[o],n));for(let o=0,r=e.length;o<r;o++)this.addUVLine(this.parseUVIndex(e[o],t))}};return L.startObject("",!1),L}class se extends k{constructor(s){super(s),this.materials=null}load(s,e,n,t){const o=this,r=new T(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(s,function(c){try{e(o.parse(c))}catch(g){t?t(g):console.error(g),o.manager.itemError(s)}},n,t)}setMaterials(s){return this.materials=s,this}parse(s){const e=new te;s.indexOf(`\r
`)!==-1&&(s=s.replace(/\r\n/g,`
`)),s.indexOf(`\\
`)!==-1&&(s=s.replace(/\\\n/g,""));const n=s.split(`
`);let t=[];for(let c=0,g=n.length;c<g;c++){const a=n[c].trimStart();if(a.length===0)continue;const d=a.charAt(0);if(d!=="#")if(d==="v"){const i=a.split(O);switch(i[0]){case"v":e.vertices.push(parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3])),i.length>=7?(z.setRGB(parseFloat(i[4]),parseFloat(i[5]),parseFloat(i[6])).convertSRGBToLinear(),e.colors.push(z.r,z.g,z.b)):e.colors.push(void 0,void 0,void 0);break;case"vn":e.normals.push(parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3]));break;case"vt":e.uvs.push(parseFloat(i[1]),parseFloat(i[2]));break}}else if(d==="f"){const l=a.slice(1).trim().split(O),u=[];for(let h=0,p=l.length;h<p;h++){const b=l[h];if(b.length>0){const v=b.split("/");u.push(v)}}const m=u[0];for(let h=1,p=u.length-1;h<p;h++){const b=u[h],v=u[h+1];e.addFace(m[0],b[0],v[0],m[1],b[1],v[1],m[2],b[2],v[2])}}else if(d==="l"){const i=a.substring(1).trim().split(" ");let l=[];const u=[];if(a.indexOf("/")===-1)l=i;else for(let m=0,h=i.length;m<h;m++){const p=i[m].split("/");p[0]!==""&&l.push(p[0]),p[1]!==""&&u.push(p[1])}e.addLineGeometry(l,u)}else if(d==="p"){const l=a.slice(1).trim().split(" ");e.addPointGeometry(l)}else if((t=X.exec(a))!==null){const i=(" "+t[0].slice(1).trim()).slice(1);e.startObject(i)}else if($.test(a))e.object.startMaterial(a.substring(7).trim(),e.materialLibraries);else if(Z.test(a))e.materialLibraries.push(a.substring(7).trim());else if(ee.test(a))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(d==="s"){if(t=a.split(" "),t.length>1){const l=t[1].trim().toLowerCase();e.object.smooth=l!=="0"&&l!=="off"}else e.object.smooth=!0;const i=e.object.currentMaterial();i&&(i.smooth=e.object.smooth)}else{if(a==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+a+'"')}}e.finalize();const o=new G;if(o.materialLibraries=[].concat(e.materialLibraries),!(e.objects.length===1&&e.objects[0].geometry.vertices.length===0)===!0)for(let c=0,g=e.objects.length;c<g;c++){const a=e.objects[c],d=a.geometry,i=a.materials,l=d.type==="Line",u=d.type==="Points";let m=!1;if(d.vertices.length===0)continue;const h=new B;h.setAttribute("position",new M(d.vertices,3)),d.normals.length>0&&h.setAttribute("normal",new M(d.normals,3)),d.colors.length>0&&(m=!0,h.setAttribute("color",new M(d.colors,3))),d.hasUVIndices===!0&&h.setAttribute("uv",new M(d.uvs,2));const p=[];for(let v=0,_=i.length;v<_;v++){const w=i[v],F=w.name+"_"+w.smooth+"_"+m;let f=e.materials[F];if(this.materials!==null){if(f=this.materials.create(w.name),l&&f&&!(f instanceof C)){const x=new C;P.prototype.copy.call(x,f),x.color.copy(f.color),f=x}else if(u&&f&&!(f instanceof V)){const x=new V({size:10,sizeAttenuation:!1});P.prototype.copy.call(x,f),x.color.copy(f.color),x.map=f.map,f=x}}f===void 0&&(l?f=new C:u?f=new V({size:1,sizeAttenuation:!1}):f=new H,f.name=w.name,f.flatShading=!w.smooth,f.vertexColors=m,e.materials[F]=f),p.push(f)}let b;if(p.length>1){for(let v=0,_=i.length;v<_;v++){const w=i[v];h.addGroup(w.groupStart,w.groupCount,v)}l?b=new U(h,p):u?b=new A(h,p):b=new I(h,p)}else l?b=new U(h,p[0]):u?b=new A(h,p[0]):b=new I(h,p[0]);b.name=a.name,o.add(b)}else if(e.vertices.length>0){const c=new V({size:1,sizeAttenuation:!1}),g=new B;g.setAttribute("position",new M(e.vertices,3)),e.colors.length>0&&e.colors[0]!==void 0&&(g.setAttribute("color",new M(e.colors,3)),c.vertexColors=!0);const a=new A(g,c);o.add(a)}return o}}class ne{constructor(s){this.scene=s,this.logo=null,this.loadLogo()}loadLogo(){const s=new W({color:12105917,metalness:1,roughness:.07,reflectivity:1,clearcoat:.3,clearcoatRoughness:.3,envMapIntensity:2.5}),e=new se,n=new URL("/LEOREYES/assets/logo-CA8pED76.obj",import.meta.url).href;e.load(n,t=>{t.traverse(c=>{c instanceof I&&(c.material=s,c.geometry.computeVertexNormals())}),this.logo=new G,this.logo.add(t),this.logo.scale.set(2.6,2.6,2.6);const r=new J().setFromObject(this.logo).getCenter(new j);this.logo.position.x=-r.x,this.logo.position.y=-r.y,this.logo.position.z=-r.z,this.addEnvironmentMap(),this.scene.add(this.logo)},t=>{console.log(t.loaded/t.total*100+"% loaded")},t=>{console.error("Error loading OBJ file:",t)})}addEnvironmentMap(){const s=new q,e="https://threejs.org/examples/textures/cube/MilkyWay/",n=".jpg",t=[e+"px"+n,e+"nx"+n,e+"py"+n,e+"ny"+n,e+"pz"+n,e+"nz"+n],o=s.load(t);o.intensity=3,this.scene.environment=o}update(){this.logo&&(this.logo.rotation.y=Math.sin(Date.now()*5e-4)*.1,this.logo.rotation.x=Math.sin(Date.now()*3e-4)*.05,this.logo.traverse(s=>{if(s instanceof I&&s.material){const e=s.material,n=Math.sin(Date.now()*.001)*.2+.95;if(e.envMapIntensity!==void 0&&(e.envMapIntensity=2.5*n),e.color){const t=new E(12105917),o=new E(14079702),r=Math.sin(Date.now()*8e-4)*.5+.5;e.color.lerpColors(t,o,r)}e.clearcoat!==void 0&&(e.clearcoat=.3+Math.sin(Date.now()*.001)*.15)}}))}}console.log("🚀 Main.js cargado correctamente");console.log("Three.js version:",Y);class oe{constructor(){if(console.log("🏗️ Inicializando App..."),this.container=document.getElementById("canvas-container"),console.log("📦 Container encontrado:",this.container),!this.container){console.error("❌ No se encontró el container canvas-container");return}try{console.log("🎬 Inicializando SceneManager..."),this.sceneManager=new K(this.container),console.log("🌌 Inicializando BackgroundManager..."),this.backgroundManager=new Q(this.sceneManager.scene),console.log("🎨 Inicializando LogoManager..."),this.logoManager=new ne(this.sceneManager.scene),console.log("✅ App inicializada correctamente"),this.animate(),window.addEventListener("resize",this.onWindowResize.bind(this))}catch(s){console.error("❌ Error al inicializar App:",s)}}animate(){requestAnimationFrame(this.animate.bind(this));try{this.backgroundManager&&this.backgroundManager.update(),this.logoManager&&this.logoManager.update(),this.sceneManager&&this.sceneManager.render()}catch(s){console.error("❌ Error en animate loop:",s)}}onWindowResize(){this.sceneManager&&this.sceneManager.onWindowResize()}}window.addEventListener("load",()=>{console.log("📱 Window loaded, iniciando App..."),new oe});document.addEventListener("DOMContentLoaded",()=>{console.log("📄 DOM Content Loaded")});
//# sourceMappingURL=main-D9rOTTTN.js.map
